

//手写函数节流，

```
function throttle(fn,delay = 100) {
  let timer = null;

  return function() {
    let ctx = this;
    if(timer) {
      return
    }
      timer = setTimeout(() => {
          fn.apply(ctx,arguments)
          timer = null;
      },delay)
  }
}
```


函数节流使用的挺多场景就是，拖拽

```
div1.addEventListener('drag',throttle(function(e) {
    console.log(e.offsetX)
},200))
```





```
function throttle(fn,delay) {
  let timer = null;
  let start = Date.now();
  return function() {
    let nowTime = Date.now();
    let left = delay - (nowTime - start);
    let context = this;
    let args = arguments;
    clearTimeout(timer);
    if(left <= 0) {
      fn.apply(context,agrs)
      start = Date.now();
    } else {
      timer = setTimeout(fn,left)
    }
  }
}


```
